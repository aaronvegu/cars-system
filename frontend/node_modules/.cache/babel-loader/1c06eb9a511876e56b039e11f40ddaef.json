{"ast":null,"code":"import _toConsumableArray from \"/Users/aaronvegu/code/microservices/cars-system/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/aaronvegu/code/microservices/cars-system/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/aaronvegu/code/microservices/cars-system/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/aaronvegu/code/microservices/cars-system/frontend/src/routes/CRUD.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Button, Container, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Fab } from '@mui/material';\nimport AddIcon from '@mui/icons-material/Add';\nimport CarList from './CarList';\nimport CarEdit from './CarEdit';\nimport axios from 'axios';\nfunction CRUD() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    cars = _useState2[0],\n    setCars = _useState2[1]; // Initialize with your cars data\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    editDialogOpen = _useState4[0],\n    setEditDialogOpen = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    editCar = _useState6[0],\n    setEditCar = _useState6[1];\n  useEffect(function () {\n    // Fetch cars from the backend when the component mounts\n    axios.get('5005/api/cars') // Adjust the URL to match your backend route\n    .then(function (response) {\n      setCars(response.data);\n    }).catch(function (error) {\n      console.error('Error fetching cars:', error);\n    });\n  }, []);\n  var handleEdit = function handleEdit(carId) {\n    var carToEdit = cars.find(function (car) {\n      return car.id === carId;\n    });\n    setEditCar(carToEdit);\n    setEditDialogOpen(true);\n  };\n  var handleDelete = function handleDelete(carId) {\n    var updatedCars = cars.filter(function (car) {\n      return car.id !== carId;\n    });\n    setCars(updatedCars);\n  };\n  var handleAddNew = function handleAddNew() {\n    setEditCar(null);\n    setEditDialogOpen(true);\n  };\n  var handleEditDialogClose = function handleEditDialogClose() {\n    setEditDialogOpen(false);\n  };\n  var handleSaveCar = function handleSaveCar(editedCar) {\n    if (editedCar.id) {\n      // Edit existing car\n      var updatedCars = cars.map(function (car) {\n        return car.id === editedCar.id ? editedCar : car;\n      });\n      setCars(updatedCars);\n    } else {\n      // Add new car\n      var newCar = _objectSpread({}, editedCar, {\n        id: Date.now()\n      }); // Assign a temporary ID\n      setCars([].concat(_toConsumableArray(cars), [newCar]));\n    }\n    setEditDialogOpen(false);\n  };\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"primary\",\n    onClick: handleAddNew,\n    startIcon: /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 20\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, \"Agregar Auto\"), /*#__PURE__*/React.createElement(CarList, {\n    cars: cars,\n    onEdit: handleEdit,\n    onDelete: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Dialog, {\n    open: editDialogOpen,\n    onClose: handleEditDialogClose,\n    maxWidth: \"sm\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, editCar ? 'Editar' : 'Agregar nuevo auto'), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CarEdit, {\n    car: editCar || {},\n    onSave: handleSaveCar,\n    onCancel: handleEditDialogClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }))));\n}\nexport default CRUD;","map":{"version":3,"names":["React","useState","useEffect","Button","Container","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Fab","AddIcon","CarList","CarEdit","axios","CRUD","_useState","_useState2","_slicedToArray","cars","setCars","_useState3","_useState4","editDialogOpen","setEditDialogOpen","_useState5","_useState6","editCar","setEditCar","get","then","response","data","catch","error","console","handleEdit","carId","carToEdit","find","car","id","handleDelete","updatedCars","filter","handleAddNew","handleEditDialogClose","handleSaveCar","editedCar","map","newCar","_objectSpread","Date","now","concat","_toConsumableArray","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","variant","color","onClick","startIcon","onEdit","onDelete","open","onClose","maxWidth","fullWidth","onSave","onCancel"],"sources":["/Users/aaronvegu/code/microservices/cars-system/frontend/src/routes/CRUD.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Button,\n  Container,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Fab,\n} from '@mui/material';\nimport AddIcon from '@mui/icons-material/Add';\nimport CarList from './CarList';\nimport CarEdit from './CarEdit';\n\nimport axios from 'axios';\n\nfunction CRUD() {\n  const [cars, setCars] = useState([]); // Initialize with your cars data\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n  const [editCar, setEditCar] = useState(null);\n\n  useEffect(() => {\n    // Fetch cars from the backend when the component mounts\n    axios\n      .get('5005/api/cars') // Adjust the URL to match your backend route\n      .then((response) => {\n        setCars(response.data);\n      })\n      .catch((error) => {\n        console.error('Error fetching cars:', error);\n      });\n  }, []);\n\n  const handleEdit = (carId) => {\n    const carToEdit = cars.find((car) => car.id === carId);\n    setEditCar(carToEdit);\n    setEditDialogOpen(true);\n  };\n\n  const handleDelete = (carId) => {\n    const updatedCars = cars.filter((car) => car.id !== carId);\n    setCars(updatedCars);\n  };\n\n  const handleAddNew = () => {\n    setEditCar(null);\n    setEditDialogOpen(true);\n  };\n\n  const handleEditDialogClose = () => {\n    setEditDialogOpen(false);\n  };\n\n  const handleSaveCar = (editedCar) => {\n    if (editedCar.id) {\n      // Edit existing car\n      const updatedCars = cars.map((car) =>\n        car.id === editedCar.id ? editedCar : car\n      );\n      setCars(updatedCars);\n    } else {\n      // Add new car\n      const newCar = { ...editedCar, id: Date.now() }; // Assign a temporary ID\n      setCars([...cars, newCar]);\n    }\n    setEditDialogOpen(false);\n  };\n\n  return (\n    <Container>\n      <Button\n        variant='outlined'\n        color='primary'\n        onClick={handleAddNew}\n        startIcon={<AddIcon />}\n      >\n        Agregar Auto\n      </Button>\n      <CarList cars={cars} onEdit={handleEdit} onDelete={handleDelete} />\n      <Dialog\n        open={editDialogOpen}\n        onClose={handleEditDialogClose}\n        maxWidth='sm'\n        fullWidth\n      >\n        <DialogTitle>{editCar ? 'Editar' : 'Agregar nuevo auto'}</DialogTitle>\n        <DialogContent>\n          <CarEdit\n            car={editCar || {}}\n            onSave={handleSaveCar}\n            onCancel={handleEditDialogClose}\n          />\n        </DialogContent>\n      </Dialog>\n    </Container>\n  );\n}\n\nexport default CRUD;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}